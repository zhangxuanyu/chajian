<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta http-equiv="X-UA-Compatible" content="ie=edge" />
	<title>Document</title>
	<style type="text/css">
		#product_banner{
			width: 1200px;
			height: 300px;
			border: 1px solid red;
			margin: 0 auto;
		}
		#left{
			position: absolute;
			top: 130px;
			left: 0;
		}
		#right{
			position: absolute;
			top: 130px;
			right: 0;
		}
		ul{
			width: 3000px;
			height: 300px;
			list-style: none;
			
		}
		li{
			float: left;
			width: 300px;
			height: 300px;
		}
	</style>
</head>
<body>
	<div id="product_banner">
		<div id="left">
			0
		</div>
		<ul>
			<li>1</li>
			<li>2</li>
			<li>3</li>
			<li>4</li>
			<li>5</li>
			<li>6</li>
			<li>7</li>
			<li>8</li>
			<li>9</li>
			<li>10</li>
		</ul>
		<div id="right">
			9
		</div>
	</div>
</body>
<script type="text/javascript">
	var btn = document.getElementById("product_banner");
	var left = document.getElementById("left");
	var right = document.getElementById("right");
	var uls = document.getElementsByTagName("ul");
	var step = uls[0].children[0].offsetWidth;
	var flag = true;
	
	left.onclick=function(){
		clearInterval(time);
		flag = true;
		doo();
	time = window.setInterval(function(){
		flag = true;
		doo();
	},2000);
	};
	
	right.onclick=function(){
		clearInterval(time);
		flag = false;
		doo();
	time = window.setInterval(function(){
		flag = true;
		doo();
	},2000);
	};
	
	var time = window.setInterval(function(){
		flag = true;
		doo();
	},2000);
	
//	function reb(){
//		time = setInterval()
//	}
	
	var doo = function(){
		var allwidth = window.getComputedStyle(uls[0]);
		var allwidth = parseInt(allwidth.marginLeft);
		console.log(allwidth);
		if(flag==true){
			if(allwidth<=-1800){
			allwidth= step;
			}
			uls[0].style.marginLeft = allwidth-step+'px';
		}else{
			if(allwidth>=0){
			allwidth= -step;
			}
			uls[0].style.marginLeft = allwidth+step+'px';
		}
		
	}
	
</script>
</html>